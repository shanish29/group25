<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Booked Appointments</title>

<link rel="stylesheet" href="../../../static/CSS/styles.css">
<link rel="stylesheet" href="../../../static/Generic%20form.css">
<link rel="stylesheet" href="../../../static/CSS/button.css">
<link rel="stylesheet" href="../../../static/CSS/ovalButton.css">

<style>

  body {
    font-family: SpoofTrial-Regular, sans-serif;
    margin: 0;
    padding: 20px;
  }

  h1 {
    text-align: center;
  }

  table {
    width: 70%;
    border-collapse: collapse;
    margin-top: 20px;
    margin-left: 20%;
  }

  th, td {
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid #ddd;
  }

  th {
    background-color: #f2f2f2;
  }

  footer img {
    width: 200px !important;
    height: auto !important;
  }

  .appointment-past {
    background-color: #ffcccc;
  }
  .appointment-upcoming {
    background-color: #ccffcc;
  }

  h1 {
    margin-left: 7%;

  }

  footer {
    margin-left: 130px;
    padding: 20px;
    padding-left: 120px;

  }
</style>

</head>
<body>

<header></header>

<div class="navbar">
  <a href="../../index/templates/index.html">Home</a>
  <a href="../../MyPets/templates/MyPets.html">My Pets</a>
  <a href="../../AddPet/templates/AddPet.html">Add Pet</a>
  <a href="Booked Appointments.html">Booked Appointments</a>
  <a href="../../Reminders/templates/Reminders.html">Reminders</a>
</div>

<h1>Booked Appointments</h1>
<p>Your Appointments:</p>

<table>
  <thead>
    <tr>
      <th>Pet Name</th>
      <th>Appointment Type</th>
      <th>Date</th>
    </tr>
  </thead>

  <tbody id="appointments-table">
  </tbody>
</table>

<footer class="footer">
  <img class="image2" src="../../../static/pics/logo7.png" alt="Pet Society">
  <button type="submit" class="ovalButton" onclick="goToPage('MyPets.html')">Back</button>
</footer>

<!--calling function 2- coloring passed appointments red and upcoming appointments green-->
<script src="/pages/BookedAppointments/static/js/Function 2.js"></script>

<script>

  const appointments = [
    { petName: 'Chubby', type: 'Haircut', date: '2023-01-01T10:00:00' },
    { petName: 'Golda', type: 'Shower', date: '2023-02-15T14:30:00' },
    { petName: 'Chubby', type: 'Checkup', date: '2023-03-20T11:45:00' },
    { petName: 'Golda', type: 'Vaccine', date: '2023-04-10T09:00:00' },
    { petName: 'Chubby', type: 'Shower', date: '2024-02-07T10:00:00' },
    { petName: 'Golda', type: 'Vaccine', date: '2024-02-10T14:30:00' },
    { petName: 'Chubby', type: 'Haircut', date: '2024-02-08T11:45:00' },
    { petName: 'Golda', type: 'Shower', date: '2024-02-09T09:00:00' },
    { petName: 'Chubby', type: 'Vaccine', date: '2024-04-16T10:00:00' },
    { petName: 'Golda', type: 'Haircut', date: '2024-06-17T14:30:00' }

  ];


  // Display appointments in a table
  const tableBody = document.getElementById('appointments-table');
  appointments.forEach(appointment => {
    const row = document.createElement('tr');
    row.innerHTML = `<td>${appointment.petName}</td>
                     <td>${appointment.type}</td>
                     <td>${appointment.date}</td>`;
    tableBody.appendChild(row);
  });

  // Call functions to display past appointments and color rows based on appointment date
  updateAppointmentColors();

  var currentPage = window.location.href;

  // Function to remove the current page link from the navbar
  function hideCurrentPageLink() {
    console.log("Current Page:", currentPage);
    // Get all navbar links
    var navbarLinks = document.querySelectorAll('.navbar a');

    // Loop through each navbar link
    navbarLinks.forEach(function(link) {
      console.log("Navbar Link:", link.href);
      // Check if the link's href matches the current page URL
      if (link.href === currentPage) {
        // Remove the link from the navbar
        link.style.display = 'none';
        console.log("Link hidden:", link.href);
      }
    });
  }

  window.onload = hideCurrentPageLink;
</script>

<script src="../../../static/js/goToPage.js"></script>

</body>
</html>